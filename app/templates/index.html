{% extends "base.html" %}

{% block content %}
<div data-store='{"sort": "trending", "category": "all"}'>
    <!-- Hero section -->
    <div class="text-center mb-12">
        <h2 class="text-4xl font-bold text-gray-900 mb-4">
            Discover Amazing Startup Ideas
        </h2>
        <p class="text-xl text-gray-600 mb-8">
            Share your innovative ideas and vote on concepts that inspire you
        </p>
        <button class="btn btn-primary btn-lg" data-on-click="@get('/ideas/new')">
            Share Your Idea
        </button>
    </div>

    <!-- Filters and sorting -->
    <div class="bg-white rounded-lg shadow-sm p-6 mb-8">
        <div class="flex flex-wrap gap-4 items-center justify-between">
            <!-- Category filters -->
            <div class="flex flex-wrap gap-2">
                <button class="btn btn-sm" data-on-click="@patch('/ideas?category=all')" data-class="{active: $sort === 'all'}">
                    All Categories
                </button>
                <button class="btn btn-sm btn-outline" data-on-click="@patch('/ideas?category=saas')">
                    SaaS
                </button>
                <button class="btn btn-sm btn-outline" data-on-click="@patch('/ideas?category=fintech')">
                    FinTech
                </button>
                <button class="btn btn-sm btn-outline" data-on-click="@patch('/ideas?category=healthtech')">
                    HealthTech
                </button>
                <button class="btn btn-sm btn-outline" data-on-click="@patch('/ideas?category=ecommerce')">
                    E-commerce
                </button>
            </div>

            <!-- Sort options -->
            <div class="flex gap-2">
                <select class="select" data-on-change="@patch('/ideas?sort=' + event.target.value)">
                    <option value="trending">Trending</option>
                    <option value="newest">Newest</option>
                    <option value="popular">Most Popular</option>
                    <option value="controversial">Controversial</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Ideas grid -->
    <div id="ideas-container" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        <!-- Ideas will be loaded here via Datastar -->
        <div class="col-span-full text-center py-12">
            <div class="text-gray-500">Loading ideas...</div>
        </div>
    </div>

    <!-- Load more button -->
    <div class="text-center mt-8">
        <button class="btn btn-outline" data-on-click="@get('/ideas?offset=10')">
            Load More Ideas
        </button>
    </div>
</div>

<!-- Auto-load ideas on page load -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Trigger initial ideas load
        window.datastar.get('/ideas');
    });
</script>
{% endblock %}